---
title: "R Tutorials"
output: 
  html_document:
    theme: spacelab
    toc: true
    toc_depth: 2
    toc_float: 
      collapsed: false
---
```{r setup, include=FALSE}

```

#### Leslie Huang
#### February 26, 2017

## Getting started: importing data from a CSV

A large amount of the data available on the Internet is in CSV (Comma Separated Value) format. Programs such as Microsoft Excel can be used to open CSVs. To import this data into R and convert it to a dataframe, you'll need the `"foreign"` package. If you have never installed it before, you do so like this:

```{r, eval = FALSE}
install.packages("foreign")
```

In each R script where you want to use a package you have previously installed, you can load it like this:

```{r, eval = FALSE}
library(foreign)
```

Today's example uses a dataset on Titanic passengers from a popular <a href="https://www.kaggle.com/c/titanic">competition on Kaggle</a>.

```{r, eval = FALSE}
read.csv("train.csv", stringsAsFactors = FALSE)
```

Normally, with a sanely formatted CSV, this is all that's need. There are a few additional arguments that may need to be specified:

- `sep = ","` : This indicates the character (usually a comma) that separates values. This may need to be altered for semicolon-separated files.
- `row.names` : Set the row names to a value (for instance, a column in the CSV containing an ID number); defaults to numbering.
- `stringsAsFactors = FALSE` : If this is set to `TRUE`, all character variables will be set to factors. I usually find it easier to set this to `FALSE` and convert specific columns to factors if necessary.
- `na.strings` : Set values that should be converted to `NA` in R. For instance, in Stata `.` is NA. It is common for NA to be set to a specific value, such as `-999`, in political science datasets that have been manually coded.

Let's take a look at the resulting dataframe:

```{r, include=FALSE}
titanic <- read.csv("train.csv", stringsAsFactors = FALSE)
titanic <- titanic[ ,-c(1, 4, 9)]
```

```{r, echo=FALSE}
head(titanic)
```

Looks like there are some blank values in the `Cabin` field that should be converted to `NA`. This could be solved by applying Regex to the dataframe, but it's much easier to just go back and specify it in the `read.csv` command.


```{r, eval = FALSE}
read.csv("train.csv", stringsAsFactors = FALSE, na.strings = "")
```


```{r, include=FALSE}
titanic2 <- read.csv("train.csv", stringsAsFactors = FALSE, na.strings = "")
titanic2 <- titanic2[ ,-c(1, 4, 9)]
```



```{r, echo=FALSE}
head(titanic2)
```
