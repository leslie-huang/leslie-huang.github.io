---
title: "R Tutorials"
output: 
  html_document:
    theme: spacelab
    toc: true
    toc_depth: 2
    toc_float: 
      collapsed: false
---
```{r setup, include=FALSE}
setwd("/Users/lesliehuang/leslie-huang.github.io/R_tutorials/")
```

#### Leslie Huang
#### March 26, 2017

## Getting started: importing data from a JSON

JSON is a data format that is superior to CSV, in my opinion, for a few reasons. First, there are universal standards for JSON. JSON also allows for hierarchical data, and the format is intuitive for people who have encountered dictionaries before (R does not have this data type). 

In my experience, I often have issues with special characters (symbols, foreign language characters) or data scraped from non UTF-8 formats in CSV format. Additionally, I often do webscraping in Python to construct a dataset in JSON; if I want to view the dataset, I can do so in a browser such as Firefox; and I can import it into R or Stata. My data is often garbled in CSV format when I construct in Python, view in Excel, and import into R.

To import a JSON file into R and convert it to a dataframe (or vice versa), you'll need the `"jsonlite"` package. Other packages that handle JSON are `rjson` and `RJSONIO`.

```{r, eval = FALSE}
install.packages("jsonlite")
library(jsonlite)
library(dplyr)
```

First, let's import the JSON file:

```{r, eval = FALSE}
jsonlite::fromJSON("opinions2003-2015.json", flatten = TRUE)
```

Let's take a look at the resulting dataframe (for the sake of space, I exclude one of the variables):

```{r, include=FALSE}
opinions <- jsonlite::fromJSON("opinions2003-2015.json", flatten = TRUE)
```

```{r, echo=FALSE}
head(opinions)
```
